(globalThis.webpackChunktajmr=globalThis.webpackChunktajmr||[]).push([[830],{2830:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>oe});var s=n(7294),r=n(5697),a=n.n(r),i=n(1512),o=n(4184),l=n.n(o),c=n(5615),m=n(1657),u=n(9859);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d="notwork";class h extends s.Component{constructor(...e){super(...e),p(this,"state",{referenceDate:new Date,filterOut:[]}),p(this,"toggleFilter",(e=>{this.state.filterOut.includes(e)?this.setState((t=>({filterOut:t.filterOut.filter((t=>t!==e))}))):this.setState((t=>({filterOut:[...t.filterOut,e]})))})),p(this,"lastMonth",(()=>{const{referenceDate:e}=this.state,t=new Date(e);t.setMonth(e.getMonth()-1),this.setState({referenceDate:t})})),p(this,"nextMonth",(()=>{const{referenceDate:e}=this.state,t=new Date(e);t.setMonth(e.getMonth()+1),this.setState({referenceDate:t})})),p(this,"getGroupedIntervalsBy",(e=>this.getMonthIntervals().reduce(((t,n)=>{let s=n[e]?n[e].toLowerCase():"-";return n.notWork&&(s=`notwork:${s}`),t[s]||(t[s]=0),t[s]+=(n.endTime||Date.now())-n.startTime,t}),{}))),p(this,"getMonthIntervals",(()=>{const{referenceDate:e}=this.state,{intervals:t}=this.props,{startTime:n,endTime:s}=(0,u.jw)(e);return t.filter((e=>e.startTime>n&&e.startTime<=s))}))}render(){const{referenceDate:e,filterOut:t}=this.state,{className:n}=this.props,r=this.getGroupedIntervalsBy("note"),a=Object.keys(r).map((e=>e.toLowerCase())),i=a.filter((e=>!t.includes(e))),o=i.reduce(((e,t)=>e+r[t]),0);return s.createElement("div",{className:l()("MonthReport",n)},s.createElement("h2",{className:"MonthReport__title"},"Månadssammanställning"),s.createElement("h3",{className:"MonthReport__subtitle"},s.createElement(c.Z,{onClick:this.lastMonth},"◀︎"),`${u.e7[e.getMonth()]} ${e.getFullYear()}`,s.createElement(c.Z,{onClick:this.nextMonth},"▶︎")),s.createElement("div",{className:"MonthReport__filters"},a.map((e=>s.createElement(c.Z,{className:l()("MonthReport__filter",{"MonthReport__filter--active":i.includes(e)}),key:e,onClick:()=>this.toggleFilter(e)},e)))),s.createElement("ul",{className:"MonthReport__list"},i.map((e=>s.createElement("li",{key:e,className:l()("MonthReport__list-item",{"not-work":e.startsWith(d)})},s.createElement("p",{className:"MonthReport__list-item__title"},e),s.createElement("p",{className:"MonthReport__list-item__value"},`${(0,u.pD)(r[e]).toFixed(1)}h`)))),s.createElement("li",{className:"MonthReport__list-item"},s.createElement("p",{className:"MonthReport__list-item__title"},"TOTAL:"),s.createElement("p",{className:"MonthReport__list-item__value"},`${(0,u.pD)(o).toFixed(1)}h`))))}}h.propTypes={className:a().string,intervals:m.FC.isRequired};const v=h;function f(e){return e.displayName||e.name||"Component"}const g=3e4;function b(e){if(!e||"number"!=typeof e)throw Error("Argument for render interval must be number");return t=>{class n extends s.Component{componentDidMount(){this.intervalId=setInterval((()=>{this.forceUpdate()}),e)}componentWillUnmount(){clearInterval(this.intervalId)}render(){return s.createElement(t,this.props)}}return n.getDisplayName=f(t),n}}var y=n(3635),w=n.n(y);const k=({from:e,elapsed:t})=>{const n=e?Date.now()-e+t:t,{hours:r,minutes:a}=(0,u.Ds)(n),i=(0,u.u6)(n,{isDuration:!0});return e&&r&&0===a&&w()(`Nu har du jobbat i ${r} timmar.`),s.createElement("div",{className:"digital-clock"},s.createElement("time",null,i))};k.propTypes={elapsed:a().number.isRequired,from:a().number.isRequired};const E=b(g)(k);function O(){return(O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const N=e=>{let{activeInterval:t,onClick:n}=e,r=_(e,["activeInterval","onClick"]);const a=t?"Ta en fika ▐▐":"Börja debitera ▶";return s.createElement(c.Z,O({},r,{theme:"primary",className:"work-button",onClick:n,text:a}))};N.propTypes={activeInterval:a().bool.isRequired,onClick:a().func.isRequired};const D=N;function T(e){return Math.round(10*e)/10}const C=({progress:e,max:t,onlyDelta:n,unit:r=""})=>{const a=(e/t).toFixed(2),i=a>1,o=i?1/a*100+"%":100*a+"%",c=i?100*(1-1/a)+"%":100*(1-a)+"%",m=T(Math.abs(t-e)),u=l()("progress-bar",{"progress-bar--only-delta":n}),p=[e,t].map(T).join(" / ");return s.createElement("div",{className:u},s.createElement("div",{style:{flexBasis:o},className:"progress-bar__progress"}),s.createElement("div",{style:{flexBasis:c},className:l()("progress-bar__rest",{"progress-bar__overtime":i})}),s.createElement("div",{className:"progress-bar__text"},s.createElement("span",{className:"progress-bar__text__progress"},p),!!m&&!n&&" | ",!!m&&s.createElement("span",{className:"progress-bar__text__delta"},`${m}${r}`)))};C.propTypes={progress:a().number.isRequired,onlyDelta:a().bool,unit:a().string,max:a().number.isRequired};const P=C,j=({intervals:e,max:t})=>{const n=Date.now(),r=e.map((({startTime:e,endTime:t})=>(t||n)-e)).reduce(((e,t)=>e+t),0);return j.propTypes={intervals:m.FC.isRequired,max:a().number.isRequired},j.displayName=f(P),s.createElement(P,{progress:(0,u.pD)(r),max:t})},x=b(g)(j);var R=n(6402),I=n(6739);const M=({hoursPerWeek:e,monthIntervals:t,timestamp:n})=>{const r=(0,u.jw)(n),a={startTime:r.startTime,endTime:Date.now()},i=(0,I.kB)(t)/u.ml,o=e/5*(0,u.l5)(r),l=e/5*(0,u.l5)(a);return s.createElement("div",{className:"month-stats"},s.createElement("h3",{className:"month-stats__heading"},"Månad"),s.createElement(P,{progress:i,max:o}),s.createElement("h3",{className:"month-stats__heading"},"Flex"),s.createElement(P,{progress:i,max:l,unit:"h",onlyDelta:!0}))};M.defaultProps={hoursPerWeek:40},M.propTypes={monthIntervals:m.FC.isRequired,hoursPerWeek:a().number,timestamp:a().number.isRequired};const q=M,A=e=>(0,u.u6)(e,{isDuration:!0}),S=({weekday:e,total:t,date:n,intervals:r=[]})=>{const a=10*(0,u.pD)(t),i={height:`${a}px`},o="week-stats-item",c="week-stats-item__bar",m=r.reduce(((e,{timespan:t})=>e+t),0);return s.createElement("div",{className:o},s.createElement("div",{className:c,style:i,tabIndex:"-1","data-testid":"week-stats-item"},r.map((({timespan:e,note:t,notWork:n})=>s.createElement("div",{className:l()(`${c}__item`,{"not-work":n}),key:e},s.createElement("p",{className:`${c}__info`},`${A(e)} ${t}`)))),m>0&&s.createElement("p",{className:`${c}__total`,style:{lineHeight:`${a}px`}},A(m))),s.createElement("p",{className:"week-date"},s.createElement("span",null,e),s.createElement("br",null),s.createElement("span",null,n)))};S.defaultProps={total:0},S.propTypes={weekday:a().string.isRequired,total:a().number,date:a().string.isRequired,intervals:a().arrayOf(a().object)};const W=S;function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class F extends s.Component{constructor(...e){super(...e),$(this,"lastWeek",(()=>{const{fetchIntervalsInWeek:e,timestamp:t}=this.props;e(t-u.un)})),$(this,"nextWeek",(()=>{const{fetchIntervalsInWeek:e,timestamp:t}=this.props;e(t+u.un)}))}render(){const{intervals:e,timestamp:t,userSettings:n}=this.props,r=Date.now(),a=e.map((({startTime:e,endTime:t})=>(t||r)-e)).reduce(((e,t)=>e+t),0);return s.createElement("div",{className:"week-stats"},s.createElement("h3",{className:"week-stats__title"},s.createElement(c.Z,{onClick:this.lastWeek,"data-testid":"prev-week-btn"},"◀︎"),e.length?` v.${(0,u.uW)(t)} `:` v.${(0,u.uW)(r)} `,s.createElement(c.Z,{onClick:this.nextWeek,"data-testid":"next-week-btn"},"▶︎")),s.createElement("div",{className:"week-stats__bars flex-container flex--align-end"},function(e,t){const n=function(e){return e.reduce(((e,{startTime:t,endTime:n,notWork:s,note:r})=>{const a=new Date(t),i=(0,u._3)(a),o=(0,u.FO)(a),l=(n||Date.now())-t,c=e[i]||{total:0,weekDay:o,intervals:[]};return U(U({},e),{},{[i]:U(U({},c),{},{notWork:s||c.notWork,total:c.total+l,intervals:[...c.intervals,{notWork:s,timespan:l,note:r}]})})}),{})}(e);return(0,u.BN)(t).map((e=>U(U({},e),{},{total:0},n[e.date]))).filter((e=>!e.isWeekEnd||0!==e.total))}(e,t).map((e=>s.createElement(W,H({key:e.weekday},e))))),s.createElement(P,{progress:(0,u.pD)(a),max:n.hoursInWeek}))}}F.propTypes={fetchIntervalsInWeek:m.ZP.func.isRequired,intervals:m.FC.isRequired,userSettings:m.AQ.isRequired,timestamp:m.ZP.number.isRequired};const L=b(g)(F);var z=n(8593),V=n(7615),B=n(1138);const X=({className:e,size:t=30})=>s.createElement("svg",{style:{width:t},className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"30 25 40 45"},s.createElement("path",{d:"M42 31v10a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V31a1 1 0 0 1 1-1h2.586a1 1 0 0 1 .707.293l7.414 7.414a1 1 0 0 1 .293.707V69a1 1 0 0 1-1 1H31a1 1 0 0 1-1-1V31a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1zm9-1h2a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1zM34 47v18a1 1 0 0 0 1 1h30a1 1 0 0 0 1-1V47a1 1 0 0 0-1-1H35a1 1 0 0 0-1 1z",fillRule:"evenodd"}));X.propTypes={size:a().number,className:a().string};const G=(0,B.Z)(X);function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Q extends s.Component{constructor(e){super(e),K(this,"onAdd",(e=>{e.preventDefault(),this.props.onAdd(this.state.interval)})),K(this,"onCancel",(()=>{})),K(this,"onUpdate",(e=>{this.setState({interval:e})}));const t=parseInt(e.fullDay,10),n=Math.round(60*(e.fullDay-t));this.state={interval:{startTime:J(9),endTime:J(9+t,n),note:""}}}render(){const{interval:e}=this.state,{notes:t,onCancel:n}=this.props;return s.createElement("form",{className:"add-one-interval",onSubmit:this.onAdd},s.createElement(V.Z,{className:"add-one-interval__interval-list-item",interval:e,onUpdate:this.onUpdate,onDelete:Y,notes:t}),s.createElement(c.Z,{type:"submit",theme:"primary",onClick:this.onAdd,className:"add-one-interval__btn"},s.createElement(G,{size:17})),s.createElement(c.Z,{theme:"secondary",className:"add-one-interval__btn",onClick:n},"✖"))}}function Y(){}function J(e,t=0,n=0){const s=new Date;return s.setHours(e),s.setMinutes(t),s.setSeconds(n),s.getTime()}Q.propTypes={onAdd:a().func.isRequired,onCancel:a().func.isRequired,fullDay:a().number.isRequired,notes:a().arrayOf(a().string)};const ee=Q;function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class re extends s.Component{constructor(...e){super(...e),se(this,"state",{displayAddForm:!1}),se(this,"updateTimestamp",(e=>{this.props.updateTimestamp(e)})),se(this,"onDelete",(e=>this.props.attemptRemove(e))),se(this,"onUpdate",(e=>this.props.attemptUpdate(e))),se(this,"onClick",(()=>{const{activeInterval:e,attemptUpdate:t}=this.props;if(e){return t(ne(ne({},e),{},{endTime:Date.now()}))}return t({startTime:Date.now()})})),se(this,"onAddPrevClick",(()=>this.setState({displayAddForm:!0}))),se(this,"onCancelPrevClick",(()=>this.setState({displayAddForm:!1}))),se(this,"onAddOneInterval",(e=>{const{attemptUpdate:t,intervalAdded:n}=this.props;t(e).then((e=>{this.setState({displayAddForm:!1}),n(e)}))}))}render(){const{intervals:e,activeInterval:t,todaysIntervals:n,userSettings:r,timestamp:a,notes:i}=this.props,{displayAddForm:o}=this.state,l=t?[].concat(t,n):n,m=r.hoursInWeek||40,p=m/5,d=(0,I.kB)(n),h=(0,u.Qk)(a),f=(0,u.jw)(a),g=e.filter((({startTime:e})=>e>h.startTime&&e<h.endTime)),b=e.filter((({startTime:e})=>e>f.startTime&&e<f.endTime));return s.createElement("div",{className:"current-intervals"},s.createElement(E,{elapsed:d,from:t?t.startTime:0}),s.createElement(x,{intervals:l,max:m/5}),s.createElement("div",{className:"action-buttons",style:{display:"flex"}},s.createElement(D,{"data-testid":"work-button",activeInterval:!!t,onClick:this.onClick}),s.createElement(c.Z,{className:"current-intervals__prev-work-btn",theme:"primary",onClick:this.onAddPrevClick},"Efterregga")),o&&s.createElement(ee,{onAdd:this.onAddOneInterval,onCancel:this.onCancelPrevClick,fullDay:p,notes:i}),s.createElement(R.Z,{"data-testid":"current-intervals-list",intervals:l,onDelete:this.onDelete,onUpdate:this.onUpdate,notes:i}),s.createElement(L,{fetchIntervalsInWeek:this.updateTimestamp,intervals:g,timestamp:a,userSettings:r}),e.length>0&&s.createElement(q,{timestamp:a,monthIntervals:b,hoursPerWeek:r.hoursInWeek}),r.displayMonthReport&&s.createElement(v,{intervals:e}))}}re.propTypes=ne(ne({},re.propTypes),{},{activeInterval:m.FG,intervals:m.FC.isRequired,todaysIntervals:m.FC.isRequired,attemptUpdate:a().func.isRequired,attemptRemove:a().func.isRequired,updateTimestamp:a().func.isRequired,timestamp:a().number.isRequired,notes:a().arrayOf(a().string)}),re.defaultProps={activeInterval:null};const ae=(0,u.PE)(Date.now());function ie({startTime:e,endTime:t}){const n=e>ae.startTime,s=t>ae.startTime&&t<ae.endTime;return n||s}const oe=(0,i.$j)((function({intervals:{items:e,timestamp:t},userSettings:n}){const s=e.map((({note:e})=>e?e.toLowerCase():e)).filter((e=>e));return{timestamp:t,intervals:e,todaysIntervals:e.filter(ie).filter(I.ew),activeInterval:e.find(I.zh),userSettings:n,notes:[...new Set(s)]}}),z)(re)},1138:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(7294),r=n(4184),a=n.n(r);const i=e=>({className:t,size:n=30})=>s.createElement(e,{className:a()("svg-icon",t),size:n})},6402:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var s=n(7294),r=n(5697),a=n.n(r),i=n(1657),o=n(7615);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const m=e=>{let{intervals:t,onDelete:n,onUpdate:r,notes:a=[]}=e,i=c(e,["intervals","onDelete","onUpdate","notes"]);return s.createElement("ul",l({},i,{className:"interval-list"}),(m=t,u="startTime",m.slice().sort(((e,t)=>t[u]-e[u]))).map((e=>s.createElement(o.Z,{key:e.id,interval:e,onDelete:n,onUpdate:r,notes:a}))));var m,u};m.propTypes={intervals:i.FC.isRequired,onDelete:a().func.isRequired,onUpdate:a().func.isRequired,notes:a().arrayOf(a().string)};const u=m},7615:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var s=n(7294),r=n(5697),a=n.n(r),i=n(4184),o=n.n(i),l=n(7737);n(794);const c=({size:e=30})=>s.createElement("svg",{style:{width:e},className:"svg-icon icon-calendar",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 98 98"},s.createElement("path",{d:"M89,14H83V9.5a7.5,7.5,0,0,0-15,0V14H32V9.5a7.5,7.5,0,0,0-15,0V14H11a9,9,0,0,0-9,9V89a9,9,0,0,0,9,9H89a9,9,0,0,0,9-9V23A9,9,0,0,0,89,14ZM86,86H14V35H86ZM23,53V47a3,3,0,0,1,3-3h6a3,3,0,0,1,3,3v6a3,3,0,0,1-3,3H26A3,3,0,0,1,23,53Zm21,0V47a3,3,0,0,1,3-3h6a3,3,0,0,1,3,3v6a3,3,0,0,1-3,3H47A3,3,0,0,1,44,53Zm21,0V47a3,3,0,0,1,3-3h6a3,3,0,0,1,3,3v6a3,3,0,0,1-3,3H68A3,3,0,0,1,65,53ZM23,74V68a3,3,0,0,1,3-3h6a3,3,0,0,1,3,3v6a3,3,0,0,1-3,3H26A3,3,0,0,1,23,74Zm21,0V68a3,3,0,0,1,3-3h6a3,3,0,0,1,3,3v6a3,3,0,0,1-3,3H47A3,3,0,0,1,44,74Z"}));c.propTypes={size:a().number};const m=c,u=({className:e,date:t,onDayClick:n,buttonTitle:r})=>{const[a,i]=(0,s.useState)(),c=(0,s.useRef)(),u=(0,s.useRef)(null),p=o()("date-picker",e,{"date-picker--disabled":!t,"date-picker--show-picker":a});return s.createElement("div",{className:p,ref:c},s.createElement("button",{type:"button",className:"date-picker__calendar-btn",title:r,onClick:e=>{if(e.preventDefault(),i(!a),a||u.current)document.removeEventListener("click",u.current),u.current=null;else{const e=({target:t})=>{!1===c?.current.contains(t)&&(i(!1),document.removeEventListener("click",e))};u.current=e,document.addEventListener("click",e,!1)}}},s.createElement(m,null)),t&&a&&s.createElement(l.ZP,{className:"date-picker__calendar",initialMonth:new Date(t),showOutsideDays:!0,firstDayOfWeek:1,selectedDays:new Date(t),onDayClick:n}))};u.defaultProps={className:"",buttonTitle:"",date:null},u.propTypes={className:a().string,buttonTitle:a().string,date:a().number,onDayClick:a().func.isRequired};const p=u;var d=n(9859);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){const t=!e.timestamp;return{value:t?"active":(0,d.u6)(e.timestamp),isActive:t,isValid:!0,timestamp:e.timestamp}}class f extends s.Component{constructor(...e){super(...e),h(this,"state",v(this.props)),h(this,"validateAndPush",(()=>{const{value:e}=this.state,{timestamp:t,onUpdate:n}=this.props,s=function(e){const[t,n]=e.split(":").map((e=>parseInt(e,10)));return t>=0&&t<24&&n>=0&&n<60&&/^\d{2}:\d{2}$/.test(e)}(e);if(e!==(0,d.u6)(t)){if(s){const[s,r]=e.split(":"),a=new Date(t);a.setHours(s),a.setMinutes(r),n({target:{value:a.getTime()}})}else console.log("Wrong format %s - should be XX:XX where X is a positive integer",e);this.setState({isValid:s})}})),h(this,"handleDateChange",(e=>{const{timestamp:t,onUpdate:n}=this.props,s=new Date(t),r=new Date(e);s.setDate(r.getDate()),s.setMonth(r.getMonth()),n({target:{value:s.getTime()}})})),h(this,"handleChange",(({target:{value:e}})=>{this.setState({value:e})}))}static getDerivedStateFromProps(e,t){return e.timestamp!==t.timestamp?v(e):null}render(){const{className:e,timestamp:t,titlePrefix:n,dataTestId:r}=this.props,{value:a,isActive:i,isValid:l}=this.state,c="interval-list-input",m=l?"":`${c}--error`;return s.createElement("div",{className:o()(c,e,m)},s.createElement("input",{type:"text","data-testid":r,title:`${n} time`,className:`${c}__input`,disabled:i,onBlur:this.validateAndPush,onChange:this.handleChange,value:a}),s.createElement(p,{buttonTitle:`${n} date`,className:`${c}__date`,date:t,onDayClick:this.handleDateChange}))}}f.defaultProps={className:"",dataTestId:""},f.propTypes={className:a().string,dataTestId:a().string,titlePrefix:a().string,timestamp:a().number,onUpdate:a().func.isRequired};const g=f;var b=n(1657),y=n(1138);const w=({className:e,size:t=30})=>s.createElement("svg",{style:{width:t},className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 98"},s.createElement("path",{d:"M52.796,27l-0.963,55.667h10.001L62.797,27H52.796z M46.21,27H36.209l0.963,55.667h10.001L46.21,27z M69.399,87.95  l-0.003,0.161c0,0.316-0.255,0.573-0.567,0.573H30.18c-0.316,0-0.573-0.257-0.573-0.573L27.642,27H17.638l1.969,61.204  c0.051,5.788,4.774,10.48,10.573,10.48h38.649c5.796,0,10.518-4.693,10.567-10.481L81.365,27H71.361L69.399,87.95z M67.854,10.972  l-2-9.655h-32.7l-2,9.655H11.48v10H88.52v-10H67.854z"}));w.propTypes={size:a().number,className:a().string};const k=(0,y.Z)(w);var E=n(5615);function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends s.Component{constructor(e){super(e),O(this,"onKeyDown",(e=>{const{suggestions:t}=this.state;if(["ArrowDown","ArrowUp"].includes(e.key)&&t.length){const t="ArrowUp"===e.key?-1:1,n=e.target.parentNode,s=[].indexOf.call(this.suggestionsList.childNodes,n),r=-1===s?0:s+t;if(r<0||r>=this.suggestionsList.childNodes.length)return;return this.suggestionsList.childNodes[r].firstElementChild.focus(),void e.preventDefault()}switch(e.key){case"Enter":e.target.classList.contains("AutoComplete__suggestion__btn")&&this.onSelect(e);break;case"Escape":this.setState({suggestions:[]})}})),O(this,"onSelect",(e=>{e.preventDefault(),this.timeoutId&&clearTimeout(this.timeoutId);const t=e.target.textContent;this.setState({query:t,suggestions:[]}),this.props.onChange({target:{value:t}})})),O(this,"onChange",(({target:e})=>{const t=e.value.toLowerCase(),n=this.props.notes.filter((e=>e.toLowerCase().startsWith(t)));this.setState({query:t,suggestions:t?n:[]})})),O(this,"onBlur",(({target:e})=>{const t=e.value.toLowerCase();this.suggestionsList.hasChildNodes(e)||t!==this.props.value&&(this.timeoutId=setTimeout((()=>{this.props.onChange({target:{value:t}}),this.timeoutId=null}),1))})),this.state={query:e.value||"",suggestions:[]}}render(){const{query:e,suggestions:t}=this.state,{className:n,label:r="",placeholder:a=""}=this.props;return s.createElement("div",{className:o()("AutoComplete",n),onKeyDown:this.onKeyDown,role:"presentation"},s.createElement("label",{className:"AutoComplete__label"},r,s.createElement("input",{type:"text",value:e,placeholder:a,className:"AutoComplete__input",onBlur:this.onBlur,onChange:this.onChange})),s.createElement("ul",{className:"AutoComplete__suggestions",ref:e=>{this.suggestionsList=e}},!!t.length&&t.map((e=>s.createElement("li",{key:e,className:"AutoComplete__suggestion"},s.createElement("button",{className:"AutoComplete__suggestion__btn",onClick:this.onSelect,type:"button"},e))))))}}_.defaultProps={notes:[]},_.propTypes={className:a().string,label:a().string,placeholder:a().string,onChange:a().func.isRequired,value:a().string,notes:a().arrayOf(a().string)};const N=_;function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends s.Component{constructor(...e){super(...e),C(this,"onChecked",(e=>({target:{checked:t}})=>{const{interval:n,onUpdate:s}=this.props;s(T(T({},n),{},{[e]:t}))})),C(this,"updateProp",(e=>({target:{value:t}})=>{const{interval:n,onUpdate:s}=this.props;s(T(T({},n),{},{[e]:t}))})),C(this,"remove",(()=>{const{onDelete:e,interval:t}=this.props;e(t.id)}))}render(){const{notes:e,className:t,interval:{startTime:n,endTime:r,note:a,notWork:i}}=this.props;return s.createElement("li",{className:o()("interval-list-item",t),"data-testid":"interval-item"},s.createElement(g,{dataTestId:"interval-from-input",titlePrefix:"from",timestamp:n,onUpdate:this.updateProp("startTime")}),s.createElement(g,{dataTestId:"interval-end-input",titlePrefix:"end",timestamp:r,onUpdate:this.updateProp("endTime")}),s.createElement(N,{className:"interval-list-item__note",placeholder:"Anteckning",onChange:this.updateProp("note"),value:a,notes:e}),s.createElement("input",{className:"interval-list-item__no-work",type:"checkbox",title:"not work",checked:i||!1,onChange:this.onChecked("notWork")}),s.createElement(E.Z,{className:"delete",theme:"danger",title:"remove","data-testid":"remove-interval",onClick:this.remove},s.createElement(k,{size:15})))}}P.propTypes={interval:b.FG.isRequired,onDelete:a().func.isRequired,onUpdate:a().func.isRequired,notes:a().arrayOf(a().string),className:a().string};const j=P},6739:(e,t,n)=>{"use strict";n.d(t,{ew:()=>r,zh:()=>a,kB:()=>o});const s=({startTime:e,endTime:t})=>t-e,r=({endTime:e})=>e,a=e=>!r(e),i=(e,t)=>e+t,o=e=>e.filter(r).map(s).reduce(i,0)},3635:e=>{e.exports=e=>{"Notification"in window!=!1&&Notification.requestPermission((t=>{if("granted"===t){const t=(n="tajmr",new Notification(n,{body:e,icon:"icons/apple-touch-icon.png",tag:n}));setTimeout((()=>{t.close()}),5e3)}var n}))}}}]);