(globalThis.webpackChunktajmr=globalThis.webpackChunktajmr||[]).push([[472],{8769:(e,t,s)=>{"use strict";s.d(t,{S:()=>i});var n=s(7294),r=s(9666),a=s(1657);class i extends n.Component{constructor(...e){var t,s,n;super(...e),n={hasError:!1,error:""},(s="state")in(t=this)?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e){r.Tb(new Error(e))}render(){const{hasError:e,error:t}=this.state,{children:s}=this.props;return e?n.createElement("div",null,n.createElement("h1",null,"Something went wrong ðŸ¤·"),n.createElement("pre",null,n.createElement("code",null,t.toString()))):s}}i.propTypes={children:a.pI}},1138:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(7294),r=s(4184),a=s.n(r);const i=e=>({className:t,size:s=30})=>n.createElement(e,{className:a()("svg-icon",t),size:s})},6402:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var n=s(7294),r=s(5697),a=s.n(r),i=s(1657),o=s(7615);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var s,n,r=function(e,t){if(null==e)return{};var s,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)>=0||(r[s]=e[s]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)s=a[n],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}const u=e=>{let{intervals:t,onDelete:s,onUpdate:r,notes:a=[]}=e,i=c(e,["intervals","onDelete","onUpdate","notes"]);return n.createElement("ul",l({},i,{className:"interval-list"}),(u=t,p="startTime",u.slice().sort(((e,t)=>t[p]-e[p]))).map((e=>n.createElement(o.Z,{key:e.id,interval:e,onDelete:s,onUpdate:r,notes:a}))));var u,p};u.propTypes={intervals:i.FC.isRequired,onDelete:a().func.isRequired,onUpdate:a().func.isRequired,notes:a().arrayOf(a().string)};const p=u},7615:(e,t,s)=>{"use strict";s.d(t,{Z:()=>j});var n=s(7294),r=s(5697),a=s.n(r),i=s(4184),o=s.n(i),l=s(7737);s(794);const c=({size:e=30})=>n.createElement("svg",{style:{width:e},className:"svg-icon icon-calendar",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 98 98"},n.createElement("path",{d:"M89,14H83V9.5a7.5,7.5,0,0,0-15,0V14H32V9.5a7.5,7.5,0,0,0-15,0V14H11a9,9,0,0,0-9,9V89a9,9,0,0,0,9,9H89a9,9,0,0,0,9-9V23A9,9,0,0,0,89,14ZM86,86H14V35H86ZM23,53V47a3,3,0,0,1,3-3h6a3,3,0,0,1,3,3v6a3,3,0,0,1-3,3H26A3,3,0,0,1,23,53Zm21,0V47a3,3,0,0,1,3-3h6a3,3,0,0,1,3,3v6a3,3,0,0,1-3,3H47A3,3,0,0,1,44,53Zm21,0V47a3,3,0,0,1,3-3h6a3,3,0,0,1,3,3v6a3,3,0,0,1-3,3H68A3,3,0,0,1,65,53ZM23,74V68a3,3,0,0,1,3-3h6a3,3,0,0,1,3,3v6a3,3,0,0,1-3,3H26A3,3,0,0,1,23,74Zm21,0V68a3,3,0,0,1,3-3h6a3,3,0,0,1,3,3v6a3,3,0,0,1-3,3H47A3,3,0,0,1,44,74Z"}));c.propTypes={size:a().number};const u=c,p=({className:e,date:t,onDayClick:s,buttonTitle:r})=>{const[a,i]=(0,n.useState)(),c=(0,n.useRef)(),p=(0,n.useRef)(null),m=o()("date-picker",e,{"date-picker--disabled":!t,"date-picker--show-picker":a});return n.createElement("div",{className:m,ref:c},n.createElement("button",{type:"button",className:"date-picker__calendar-btn",title:r,onClick:e=>{if(e.preventDefault(),i(!a),a||p.current)document.removeEventListener("click",p.current),p.current=null;else{const e=({target:t})=>{!1===c?.current.contains(t)&&(i(!1),document.removeEventListener("click",e))};p.current=e,document.addEventListener("click",e,!1)}}},n.createElement(u,null)),t&&a&&n.createElement(l.ZP,{className:"date-picker__calendar",initialMonth:new Date(t),showOutsideDays:!0,firstDayOfWeek:1,selectedDays:new Date(t),onDayClick:s}))};p.defaultProps={className:"",buttonTitle:"",date:null},p.propTypes={className:a().string,buttonTitle:a().string,date:a().number,onDayClick:a().func.isRequired};const m=p;var d=s(9859);function h(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function g(e){const t=!e.timestamp;return{value:t?"active":(0,d.u6)(e.timestamp),isActive:t,isValid:!0,timestamp:e.timestamp}}class v extends n.Component{constructor(...e){super(...e),h(this,"state",g(this.props)),h(this,"validateAndPush",(()=>{const{value:e}=this.state,{timestamp:t,onUpdate:s}=this.props,n=function(e){const[t,s]=e.split(":").map((e=>parseInt(e,10)));return t>=0&&t<24&&s>=0&&s<60&&/^\d{2}:\d{2}$/.test(e)}(e);if(e!==(0,d.u6)(t)){if(n){const[n,r]=e.split(":"),a=new Date(t);a.setHours(n),a.setMinutes(r),s({target:{value:a.getTime()}})}else console.log("Wrong format %s - should be XX:XX where X is a positive integer",e);this.setState({isValid:n})}})),h(this,"handleDateChange",(e=>{const{timestamp:t,onUpdate:s}=this.props,n=new Date(t),r=new Date(e);n.setDate(r.getDate()),n.setMonth(r.getMonth()),s({target:{value:n.getTime()}})})),h(this,"handleChange",(({target:{value:e}})=>{this.setState({value:e})}))}static getDerivedStateFromProps(e,t){return e.timestamp!==t.timestamp?g(e):null}render(){const{className:e,timestamp:t,titlePrefix:s,dataTestId:r}=this.props,{value:a,isActive:i,isValid:l}=this.state,c="interval-list-input",u=l?"":`${c}--error`;return n.createElement("div",{className:o()(c,e,u)},n.createElement("input",{type:"text","data-testid":r,title:`${s} time`,className:`${c}__input`,disabled:i,onBlur:this.validateAndPush,onChange:this.handleChange,value:a}),n.createElement(m,{buttonTitle:`${s} date`,className:`${c}__date`,date:t,onDayClick:this.handleDateChange}))}}v.defaultProps={className:"",dataTestId:""},v.propTypes={className:a().string,dataTestId:a().string,titlePrefix:a().string,timestamp:a().number,onUpdate:a().func.isRequired};const f=v;var b=s(1657),y=s(1138);const w=({className:e,size:t=30})=>n.createElement("svg",{style:{width:t},className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 88 98"},n.createElement("path",{d:"M52.796,27l-0.963,55.667h10.001L62.797,27H52.796z M46.21,27H36.209l0.963,55.667h10.001L46.21,27z M69.399,87.95  l-0.003,0.161c0,0.316-0.255,0.573-0.567,0.573H30.18c-0.316,0-0.573-0.257-0.573-0.573L27.642,27H17.638l1.969,61.204  c0.051,5.788,4.774,10.48,10.573,10.48h38.649c5.796,0,10.518-4.693,10.567-10.481L81.365,27H71.361L69.399,87.95z M67.854,10.972  l-2-9.655h-32.7l-2,9.655H11.48v10H88.52v-10H67.854z"}));w.propTypes={size:a().number,className:a().string};const E=(0,y.Z)(w);var C=s(5615);function k(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class N extends n.Component{constructor(e){super(e),k(this,"onKeyDown",(e=>{const{suggestions:t}=this.state;if(["ArrowDown","ArrowUp"].includes(e.key)&&t.length){const t="ArrowUp"===e.key?-1:1,s=e.target.parentNode,n=[].indexOf.call(this.suggestionsList.childNodes,s),r=-1===n?0:n+t;if(r<0||r>=this.suggestionsList.childNodes.length)return;return this.suggestionsList.childNodes[r].firstElementChild.focus(),void e.preventDefault()}switch(e.key){case"Enter":e.target.classList.contains("AutoComplete__suggestion__btn")&&this.onSelect(e);break;case"Escape":this.setState({suggestions:[]})}})),k(this,"onSelect",(e=>{e.preventDefault(),this.timeoutId&&clearTimeout(this.timeoutId);const t=e.target.textContent;this.setState({query:t,suggestions:[]}),this.props.onChange({target:{value:t}})})),k(this,"onChange",(({target:e})=>{const t=e.value.toLowerCase(),s=this.props.notes.filter((e=>e.toLowerCase().startsWith(t)));this.setState({query:t,suggestions:t?s:[]})})),k(this,"onBlur",(({target:e})=>{const t=e.value.toLowerCase();this.suggestionsList.hasChildNodes(e)||t!==this.props.value&&(this.timeoutId=setTimeout((()=>{this.props.onChange({target:{value:t}}),this.timeoutId=null}),1))})),this.state={query:e.value||"",suggestions:[]}}render(){const{query:e,suggestions:t}=this.state,{className:s,label:r="",placeholder:a=""}=this.props;return n.createElement("div",{className:o()("AutoComplete",s),onKeyDown:this.onKeyDown,role:"presentation"},n.createElement("label",{className:"AutoComplete__label"},r,n.createElement("input",{type:"text",value:e,placeholder:a,className:"AutoComplete__input",onBlur:this.onBlur,onChange:this.onChange})),n.createElement("ul",{className:"AutoComplete__suggestions",ref:e=>{this.suggestionsList=e}},!!t.length&&t.map((e=>n.createElement("li",{key:e,className:"AutoComplete__suggestion"},n.createElement("button",{className:"AutoComplete__suggestion__btn",onClick:this.onSelect,type:"button"},e))))))}}N.defaultProps={notes:[]},N.propTypes={className:a().string,label:a().string,placeholder:a().string,onChange:a().func.isRequired,value:a().string,notes:a().arrayOf(a().string)};const O=N;function D(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,n)}return s}function T(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?D(Object(s),!0).forEach((function(t){P(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):D(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function P(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class _ extends n.Component{constructor(...e){super(...e),P(this,"onChecked",(e=>({target:{checked:t}})=>{const{interval:s,onUpdate:n}=this.props;n(T(T({},s),{},{[e]:t}))})),P(this,"updateProp",(e=>({target:{value:t}})=>{const{interval:s,onUpdate:n}=this.props;n(T(T({},s),{},{[e]:t}))})),P(this,"remove",(()=>{const{onDelete:e,interval:t}=this.props;e(t.id)}))}render(){const{notes:e,className:t,interval:{startTime:s,endTime:r,note:a,notWork:i}}=this.props;return n.createElement("li",{className:o()("interval-list-item",t),"data-testid":"interval-item"},n.createElement(f,{dataTestId:"interval-from-input",titlePrefix:"from",timestamp:s,onUpdate:this.updateProp("startTime")}),n.createElement(f,{dataTestId:"interval-end-input",titlePrefix:"end",timestamp:r,onUpdate:this.updateProp("endTime")}),n.createElement(O,{className:"interval-list-item__note",placeholder:"Anteckning",onChange:this.updateProp("note"),value:a,notes:e}),n.createElement("input",{className:"interval-list-item__no-work",type:"checkbox",title:"not work",checked:i||!1,onChange:this.onChecked("notWork")}),n.createElement(C.Z,{className:"delete",theme:"danger",title:"remove","data-testid":"remove-interval",onClick:this.remove},n.createElement(E,{size:15})))}}_.propTypes={interval:b.FG.isRequired,onDelete:a().func.isRequired,onUpdate:a().func.isRequired,notes:a().arrayOf(a().string),className:a().string};const j=_},6739:(e,t,s)=>{"use strict";s.d(t,{ew:()=>r,zh:()=>a,kB:()=>o});const n=({startTime:e,endTime:t})=>t-e,r=({endTime:e})=>e,a=e=>!r(e),i=(e,t)=>e+t,o=e=>e.filter(r).map(n).reduce(i,0)}}]);