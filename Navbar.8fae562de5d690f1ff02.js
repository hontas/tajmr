/*! For license information please see Navbar.8fae562de5d690f1ff02.js.LICENSE.txt */
(globalThis.webpackChunktajmr=globalThis.webpackChunktajmr||[]).push([[160],{4557:(e,n,t)=>{"use strict";t.d(n,{Z:()=>v});var r=t(7294),a=t(5697),s=t.n(a),i=t(4184),o=t.n(i),l=t(1733),c=t(3379),u=t.n(c),d=t(2176),p={insert:"head",singleton:!1};u()(d.Z,p);const g=d.Z.locals||{};function m(){return(m=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function h(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}const f=r.forwardRef(((e,n)=>{let{className:t,text:a,isLoading:s,disabled:i,children:c,type:u="button",theme:d="default",block:p}=e,f=h(e,["className","text","isLoading","disabled","children","type","theme","block"]);const v=o()("pure-button",g.button,g[d],{[g.block]:p},t);return r.createElement("button",m({ref:n},f,{className:v,type:u,disabled:i}),a,c,s&&r.createElement(l.sm,{size:"15px"}))}));f.defaultProps={text:null,children:null,isLoading:!1},f.propTypes={className:s().string,isLoading:s().bool,disabled:s().bool,onClick:s().func.isRequired,text:s().string,block:s().bool,type:s().oneOf(["button","submit"]),theme:s().oneOf(["default","primary","secondary","danger","success","link"]),children:s().oneOfType([s().string,s().element,s().arrayOf(s().element)])};const v=f},849:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>Y});var r=t(7294),a=t(5697),s=t.n(a),i=t(4494),o=t(4184),l=t.n(o),c=t(4557),u=t(3379),d=t.n(u),p=t(6229),g={insert:"head",singleton:!1};d()(p.Z,g);const m=p.Z.locals||{},h=({className:e,active:n})=>r.createElement("div",{className:l()(m.hamburger,{[m.active]:n},e)});h.propTypes={className:s().string,active:s().bool};const f=h;var v=t(2568),b=t.n(v),y=t(1657),w=t(4429),_=t(2706),E={insert:"head",singleton:!1};d()(_.Z,E);const x=_.Z.locals||{};function k(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}class S extends r.Component{constructor(...e){super(...e),k(this,"state",{isSavingUserSettings:!1,isSavingUserPassword:!1,updatePasswordError:null,updatePasswordSuccess:!1}),k(this,"preventDefault",(e=>{"keydown"===e.type&&"Enter"!==e.key||e.preventDefault()})),k(this,"updateUserPassword",(e=>{e.preventDefault();const n=this.oldPass.value,t=this.newPass.value;this.setState({isSavingUserPassword:!0});const r=({message:e})=>this.setState({isSavingUserPassword:!1,updatePasswordError:e,updatePasswordSuccess:!e});w.Z.updateUserPassword(n,t).then((()=>{r({message:""}),setTimeout((()=>this.setState({updatePasswordSuccess:!1})),2e3),this.oldPass.value="",this.newPass.value=""})).catch(r)})),k(this,"saveUserSettings",(e=>{e.preventDefault();const{user:n,userSettings:t}=this.props;this.setState({isSavingUserSettings:!0}),w.Z.saveUserData(n.uid,t).then((()=>{this.setState({isSavingUserSettings:!1})}))}))}render(){const{userSettings:e,user:n,className:t}=this.props,{displayMonthReport:a,displayNotifications:s,displayPreviousIntervals:i,hoursInWeek:o}=e,{isSavingUserSettings:u,isSavingUserPassword:d,updatePasswordError:p,updatePasswordSuccess:g}=this.state,m=n&&(n.photoURL||`https://www.gravatar.com/avatar/${b()(n.email)}`);return r.createElement("form",{"data-testid":"user-menu",className:l()("pure-form pure-form-stacked",x.container,t),onSubmit:this.preventDefault},r.createElement("div",{className:x.row},r.createElement("img",{alt:"avatar",className:x.profileImage,src:m}),r.createElement(c.Z,{className:x.logOut,theme:"link",onClick:w.Z.logout},"Logga ut")),r.createElement("fieldset",{className:x.fieldset},r.createElement("label",{className:x.label},"Visa notifiering",r.createElement("input",{checked:s,onChange:this.handleChange("displayNotifications"),style:{float:"right"},type:"checkbox"})),r.createElement("label",{className:x.label},"Visa tidigare intervall",r.createElement("input",{checked:i,onChange:this.handleChange("displayPreviousIntervals"),style:{float:"right"},type:"checkbox"})),r.createElement("label",{className:x.label},"Visa månadsrapport",r.createElement("input",{checked:a,onChange:this.handleChange("displayMonthReport"),style:{float:"right"},type:"checkbox"})),r.createElement("label",{className:x.label},"Full arbetsvecka (h)",r.createElement("input",{value:o,onChange:this.handleChange("hoursInWeek",Number),style:{float:"right",width:"100px"},type:"number"}))),r.createElement(c.Z,{className:"pure-button-primary",isLoading:u,onClick:this.saveUserSettings,text:"Spara inställningar"}),r.createElement("fieldset",{className:x.fieldset},p&&r.createElement("p",{style:{whiteSpace:"normal"}},p),r.createElement("div",{className:x.changePass},r.createElement("label",{htmlFor:"oldPassword",className:x.changePassLabel},r.createElement("input",{onKeyDown:this.preventDefault,autoComplete:"old-password",className:x.changePassInput,ref:e=>{this.oldPass=e},type:"password",placeholder:"Nuvarande lösenord",id:"oldPassword"})),r.createElement("label",{htmlFor:"newPassword",className:x.changePassLabel},r.createElement("input",{onKeyDown:this.preventDefault,autoComplete:"new-password",className:x.changePassInput,ref:e=>{this.newPass=e},type:"password",placeholder:"Nytt lösenord",id:"newPassword"})),r.createElement(c.Z,{theme:g?"success":"default",className:l()("pure-button-primary",x.changePassBtn),isLoading:d,onClick:this.updateUserPassword,text:g?"👍":"Ändra"}))))}handleChange(e,n=(e=>e)){const{updateSettings:t}=this.props;return({target:r})=>{const a="checkbox"===r.type?r.checked:n(r.value);t(e,a)}}}S.propTypes={className:s().string,updateSettings:s().func.isRequired,user:s().shape({uid:s().string.isRequired,photoURL:s().string,email:s().string.isRequired}),userSettings:y.AQ.isRequired};const T=S;var N=t(1068),O=t(1733),P=t(6884),R={insert:"head",singleton:!1};d()(P.Z,R);const C=P.Z.locals||{};function I({user:e,isSaving:n,isFetching:t,appInitialized:a,userSettings:s,dispatch:i}){const[o,u]=r.useState(!1),d=r.useRef(null),p=a&&(n||t),g=r.useRef(),m=r.useRef(),h=()=>{o?(document.body.style.overflow="",g.current.focus()):(document.body.style.overflow="hidden",m.current.focus()),u(!o)};return r.createElement("nav",{className:l()("pure-menu","pure-menu-horizontal","pure-menu-fixed",C.navbar)},r.createElement("div",{className:C.inner,ref:d},r.createElement("h1",{className:l()("pure-menu-heading",C.brand)},"TajmR"),r.createElement("span",{className:C.version},r.createElement("small",null,"tajmr@1.0.6 - 23 maj 2021 21:23")),p&&r.createElement("div",{"data-testid":t?"loading-intervals-container":"saving-intervals-container",className:C.loadingContainer},r.createElement(O.iC,{color:"currentColor"}),r.createElement("small",{className:C.loadingText},t?"Laddar intervall...":"Sparar...")),e&&r.createElement(r.Fragment,null,r.createElement(c.Z,{ref:g,className:C.menuBtn,"data-testid":"user-menu-toggle",onClick:h},r.createElement(f,{active:o})),r.createElement("button",{ref:m,className:l()(C.userMenuBackdrop,{[C.userMenuBackdropActive]:o}),onClick:h,title:"Close user menu","aria-label":"Close user menu"}),r.createElement(T,{user:e,userSettings:s,updateSettings:(e,n)=>{i(N.V({[e]:n}))},className:l()(C.userMenu,{[C.userMenuActive]:o})}))))}I.propTypes={dispatch:s().func.isRequired,isFetching:s().bool.isRequired,isSaving:s().bool.isRequired,appInitialized:s().bool.isRequired,userSettings:y.AQ.isRequired,user:s().shape({uid:s().string.isRequired})};const Y=(0,i.$j)((function({intervals:e,userSettings:n,user:t,app:r}){return{user:t,isFetching:e.isFetching,isSaving:e.isSaving,userSettings:n,appInitialized:r.initialized}}))(I)},1657:(e,n,t)=>{"use strict";t.d(n,{FG:()=>s,FC:()=>i,AQ:()=>o,ZP:()=>a.a});var r=t(5697),a=t.n(r);const s=a().shape({id:a().string,startTime:a().number.isRequired,endTime:a().number,user:a().string,note:a().string}),i=a().arrayOf(s),o=(a().oneOfType([a().element,a().arrayOf(a().element)]),a().shape({displayNotifications:a().bool.isRequired,displayPreviousIntervals:a().bool.isRequired,displayName:a().string,hoursInWeek:a().number.isRequired}))},487:e=>{var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var n=[],t=0;t<e.length;t++)n.push(255&e.charCodeAt(t));return n},bytesToString:function(e){for(var n=[],t=0;t<e.length;t++)n.push(String.fromCharCode(e[t]));return n.join("")}}};e.exports=n},4184:(e,n)=>{var t;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var s=typeof t;if("string"===s||"number"===s)e.push(t);else if(Array.isArray(t)){if(t.length){var i=a.apply(null,t);i&&e.push(i)}}else if("object"===s)if(t.toString===Object.prototype.toString)for(var o in t)r.call(t,o)&&t[o]&&e.push(o);else e.push(t.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(t=function(){return a}.apply(n,[]))||(e.exports=t)}()},1012:e=>{var n,t;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(e,n){return e<<n|e>>>32-n},rotr:function(e,n){return e<<32-n|e>>>n},endian:function(e){if(e.constructor==Number)return 16711935&t.rotl(e,8)|4278255360&t.rotl(e,24);for(var n=0;n<e.length;n++)e[n]=t.endian(e[n]);return e},randomBytes:function(e){for(var n=[];e>0;e--)n.push(Math.floor(256*Math.random()));return n},bytesToWords:function(e){for(var n=[],t=0,r=0;t<e.length;t++,r+=8)n[r>>>5]|=e[t]<<24-r%32;return n},wordsToBytes:function(e){for(var n=[],t=0;t<32*e.length;t+=8)n.push(e[t>>>5]>>>24-t%32&255);return n},bytesToHex:function(e){for(var n=[],t=0;t<e.length;t++)n.push((e[t]>>>4).toString(16)),n.push((15&e[t]).toString(16));return n.join("")},hexToBytes:function(e){for(var n=[],t=0;t<e.length;t+=2)n.push(parseInt(e.substr(t,2),16));return n},bytesToBase64:function(e){for(var t=[],r=0;r<e.length;r+=3)for(var a=e[r]<<16|e[r+1]<<8|e[r+2],s=0;s<4;s++)8*r+6*s<=8*e.length?t.push(n.charAt(a>>>6*(3-s)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],r=0,a=0;r<e.length;a=++r%4)0!=a&&t.push((n.indexOf(e.charAt(r-1))&Math.pow(2,-2*a+8)-1)<<2*a|n.indexOf(e.charAt(r))>>>6-2*a);return t}},e.exports=t},2176:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(3645),a=t.n(r)()((function(e){return e[1]}));a.push([e.id,"._2xzE6djIWOisJ0spdAE_c0 {\n  transition: background 0.3s;\n  display: inline-grid;\n  grid-auto-flow: column;\n  grid-gap: 0.5em;\n  justify-content: center;\n  align-items: center;\n}\n\n.H_Cr1em9rYB8G1TCa_Ej1 {\n  background: var(--primary-color-dark);\n  color: var(--text-color-light);\n}\n._2xALD6C5YH7WMakxnTwzTa {\n  background: var(--secondary-color-dark);\n  color: var(--text-color-secondary);\n}\n._3Et574LNe6jvjrliHbCY_I {\n  background: var(--danger-color-dark);\n  color: var(--text-color-danger);\n}\n._1lNCnS-lXvp6p4Y3Y583Pg {\n  background: var(--success-color);\n  color: var(--text-color-light);\n}\n._1y2Uo1xgqQt-PyYpWT2zKw {\n  background: transparent;\n  color: var(--primary-color-dark);\n}\n\n._1y2Uo1xgqQt-PyYpWT2zKw:focus,\n._1y2Uo1xgqQt-PyYpWT2zKw:hover {\n  background: transparent;\n  text-decoration: underline;\n}\n\n._1NyDDymsvIyTBQNHUbtJd3 {\n  display: block;\n  width: 100%;\n}\n",""]),a.locals={button:"_2xzE6djIWOisJ0spdAE_c0",primary:"H_Cr1em9rYB8G1TCa_Ej1",secondary:"_2xALD6C5YH7WMakxnTwzTa",danger:"_3Et574LNe6jvjrliHbCY_I",success:"_1lNCnS-lXvp6p4Y3Y583Pg",link:"_1y2Uo1xgqQt-PyYpWT2zKw",block:"_1NyDDymsvIyTBQNHUbtJd3"};const s=a},6229:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(3645),a=t.n(r)()((function(e){return e[1]}));a.push([e.id,".EbTCuOQBrX2sYaRKqwEA6,\n.EbTCuOQBrX2sYaRKqwEA6:before,\n.EbTCuOQBrX2sYaRKqwEA6:after {\n  background-color: currentColor;\n  width: 100%;\n  height: 0.2em;\n  transition: transform 0.2s;\n}\n\n.EbTCuOQBrX2sYaRKqwEA6 {\n  position: relative;\n  display: block;\n}\n.EbTCuOQBrX2sYaRKqwEA6:before,\n.EbTCuOQBrX2sYaRKqwEA6:after {\n  position: absolute;\n  left: 0;\n  margin-top: -0.6em;\n  content: ' ';\n}\n.EbTCuOQBrX2sYaRKqwEA6:after {\n  margin-top: 0.6em;\n}\n\n._3tOcpdD4cZvaw3jVtxdjMH {\n  transform: rotate(-45deg);\n}\n._3tOcpdD4cZvaw3jVtxdjMH:before {\n  margin-top: 0;\n}\n._3tOcpdD4cZvaw3jVtxdjMH:after {\n  transform: rotate(90deg);\n  margin-top: 0;\n}\n",""]),a.locals={hamburger:"EbTCuOQBrX2sYaRKqwEA6",active:"_3tOcpdD4cZvaw3jVtxdjMH"};const s=a},6884:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(3645),a=t.n(r)()((function(e){return e[1]}));a.push([e.id,"._33oM91XI0gEOYCMdjwOSRQ {\n  background: var(--primary-color-dark);\n}\n\n.igLjYd07kC4n_spiFwws0 {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  max-width: var(--screen-large);\n  margin: 0 auto;\n  padding: 0.5em;\n}\n\n.E5Zm3DoJq5r1ssZqBE7XT {\n  color: #aaa;\n  display: none;\n}\n\n._3s20Ibi7RRPkOKcdtdbdNg {\n  color: var(--text-color-primary);\n  font-size: 1.25em;\n  line-height: 0.85em;\n  margin: 0;\n}\n._3s20Ibi7RRPkOKcdtdbdNg:focus ~ .E5Zm3DoJq5r1ssZqBE7XT,\n._3s20Ibi7RRPkOKcdtdbdNg:hover ~ .E5Zm3DoJq5r1ssZqBE7XT {\n  display: initial;\n}\n\n._1VeLNN-eRYAj-OJf3DbXb_ {\n  color: gray;\n  display: grid;\n  grid-auto-flow: column;\n  grid-gap: 0.5em;\n}\n\n._1v2BYh2pXZslqpYIztKvv0 {\n  display: none;\n}\n\n@media screen and (min-width: 480px) {\n  ._1v2BYh2pXZslqpYIztKvv0 {\n    display: initial;\n  }\n}\n\n._1Dq0EZP786ZdRBScfDfBz4 {\n  background-color: transparent;\n  display: inline-block;\n  color: white;\n  font-size: 14px;\n  width: 2.5em;\n  height: 1.5em;\n  padding: 0.3em;\n}\n\n._28dfSjAMmHDTW-5Rk9TQD- {\n  position: fixed;\n  overflow-y: scroll;\n  height: calc(100vh - 53px);\n  width: 100vw;\n  max-width: 560px;\n  top: 53px;\n  right: 0;\n  bottom: 0;\n  transition: transform 0.3s cubic-bezier(0.22, 0.61, 0.36, 1);\n  transform: translateX(max(100vw, 560px));\n}\n._3jbeTKAvGahRqApa3eyuaW {\n  transform: translateX(0);\n}\n\n._2KxIxDCDJ0FdVZ4OkCyylN {\n  background-color: rgba(45, 62, 80, 0.7);\n  border: none;\n  position: fixed;\n  top: 53px;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 150ms 0ms ease-in;\n}\n._2KxIxDCDJ0FdVZ4OkCyylN:focus {\n  outline: none;\n}\n\n.BIt_a1kLyxhrDL5koS8-k {\n  opacity: 1;\n  pointer-events: auto;\n  transition-duration: 250ms;\n  transition-delay: 50ms;\n}\n\n@supports (-webkit-overflow-scrolling: touch) {\n  ._33oM91XI0gEOYCMdjwOSRQ {\n    padding-top: max(0.5em, env(safe-area-inset-top));\n    padding-left: max(0.5em, env(safe-area-inset-left));\n    padding-right: max(0.5em, env(safe-area-inset-right));\n  }\n  ._28dfSjAMmHDTW-5Rk9TQD- {\n    top: calc(53px + env(safe-area-inset-top));\n    height: calc(100vh - 53px - env(safe-area-inset-top));\n  }\n}\n",""]),a.locals={navbar:"_33oM91XI0gEOYCMdjwOSRQ",inner:"igLjYd07kC4n_spiFwws0",version:"E5Zm3DoJq5r1ssZqBE7XT",brand:"_3s20Ibi7RRPkOKcdtdbdNg",loadingContainer:"_1VeLNN-eRYAj-OJf3DbXb_",loadingText:"_1v2BYh2pXZslqpYIztKvv0",menuBtn:"_1Dq0EZP786ZdRBScfDfBz4",userMenu:"_28dfSjAMmHDTW-5Rk9TQD-",userMenuActive:"_3jbeTKAvGahRqApa3eyuaW",userMenuBackdrop:"_2KxIxDCDJ0FdVZ4OkCyylN",userMenuBackdropActive:"BIt_a1kLyxhrDL5koS8-k"};const s=a},2706:(e,n,t)=>{"use strict";t.d(n,{Z:()=>s});var r=t(3645),a=t.n(r)()((function(e){return e[1]}));a.push([e.id,"._2MfIFOfgvS54aKAQYPg7gH {\n  background-color: var(--primary-color-dark);\n  color: whitesmoke;\n  padding: 1em 2em;\n}\n._2MfIFOfgvS54aKAQYPg7gH input:not([type='checkbox']) {\n  color: #333;\n}\n\n._2MfIFOfgvS54aKAQYPg7gH input[type='number'] {\n  text-align: right;\n}\n\n._1XX4M8YyoRnL8eKm1do2CE {\n  margin-top: 0.5em;\n}\n\n._2MfIFOfgvS54aKAQYPg7gH ._1OVKB4xp3YyF-0GqhbSLf8 {\n  color: whitesmoke;\n}\n\n._2MfIFOfgvS54aKAQYPg7gH ._2YXacs9UUWEgbLvAklhNAX {\n  display: grid;\n  width: 100%;\n}\n\n._2MfIFOfgvS54aKAQYPg7gH ._3KUI9xYJ3cM0y89IhrK_mK {\n  margin-bottom: 0.5em;\n}\n\n._3nd5_aNAwccxiT81U8d9D8 {\n  border-radius: 50%;\n  margin-left: 0.5em;\n  position: relative;\n  top: 3px;\n  vertical-align: middle;\n  width: 50px;\n}\n\n.NncJaTWEbLoAUnEcjJ66G {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.hV1lydIdq8y5b2ZrgEPT8 {\n  display: flex !important;\n  align-items: center;\n  padding: 0.25em 0;\n  justify-content: space-between;\n}\n\n._1WJd_7dX-Wh9_4YgA7XipB {\n  color: white;\n  width: auto;\n}\n\n._3mgKXjEMgvYIhqt5-dwRDG {\n  display: grid;\n  grid-row-gap: 0.5em;\n  margin-top: 2em;\n}\n._3mgKXjEMgvYIhqt5-dwRDG ._17XMRe0I5gXrElRsfMhz_2 {\n  margin: 0 !important;\n}\n\n._3mgKXjEMgvYIhqt5-dwRDG ._3gcM159ZwQ4i8MEoJ3LDLO {\n  margin: 0 !important;\n  width: 100%;\n}\n\n._3mgKXjEMgvYIhqt5-dwRDG ._2YBA6B9gUblMinTf6HJz3K {\n  border-radius: 0 2px 2px 0;\n}\n",""]),a.locals={container:"_2MfIFOfgvS54aKAQYPg7gH",fieldset:"_1XX4M8YyoRnL8eKm1do2CE","pure-menu-link":"_1OVKB4xp3YyF-0GqhbSLf8","pure-button":"_2YXacs9UUWEgbLvAklhNAX","pure-button-primary":"_3KUI9xYJ3cM0y89IhrK_mK",profileImage:"_3nd5_aNAwccxiT81U8d9D8",row:"NncJaTWEbLoAUnEcjJ66G",label:"hV1lydIdq8y5b2ZrgEPT8",logOut:"_1WJd_7dX-Wh9_4YgA7XipB",changePass:"_3mgKXjEMgvYIhqt5-dwRDG",changePassLabel:"_17XMRe0I5gXrElRsfMhz_2",changePassInput:"_3gcM159ZwQ4i8MEoJ3LDLO",changePassBtn:"_2YBA6B9gUblMinTf6HJz3K"};const s=a},8738:e=>{function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},2568:(e,n,t)=>{var r,a,s,i,o;r=t(1012),a=t(487).utf8,s=t(8738),i=t(487).bin,(o=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?i.stringToBytes(e):a.stringToBytes(e):s(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var t=r.bytesToWords(e),l=8*e.length,c=1732584193,u=-271733879,d=-1732584194,p=271733878,g=0;g<t.length;g++)t[g]=16711935&(t[g]<<8|t[g]>>>24)|4278255360&(t[g]<<24|t[g]>>>8);t[l>>>5]|=128<<l%32,t[14+(l+64>>>9<<4)]=l;var m=o._ff,h=o._gg,f=o._hh,v=o._ii;for(g=0;g<t.length;g+=16){var b=c,y=u,w=d,_=p;c=m(c,u,d,p,t[g+0],7,-680876936),p=m(p,c,u,d,t[g+1],12,-389564586),d=m(d,p,c,u,t[g+2],17,606105819),u=m(u,d,p,c,t[g+3],22,-1044525330),c=m(c,u,d,p,t[g+4],7,-176418897),p=m(p,c,u,d,t[g+5],12,1200080426),d=m(d,p,c,u,t[g+6],17,-1473231341),u=m(u,d,p,c,t[g+7],22,-45705983),c=m(c,u,d,p,t[g+8],7,1770035416),p=m(p,c,u,d,t[g+9],12,-1958414417),d=m(d,p,c,u,t[g+10],17,-42063),u=m(u,d,p,c,t[g+11],22,-1990404162),c=m(c,u,d,p,t[g+12],7,1804603682),p=m(p,c,u,d,t[g+13],12,-40341101),d=m(d,p,c,u,t[g+14],17,-1502002290),c=h(c,u=m(u,d,p,c,t[g+15],22,1236535329),d,p,t[g+1],5,-165796510),p=h(p,c,u,d,t[g+6],9,-1069501632),d=h(d,p,c,u,t[g+11],14,643717713),u=h(u,d,p,c,t[g+0],20,-373897302),c=h(c,u,d,p,t[g+5],5,-701558691),p=h(p,c,u,d,t[g+10],9,38016083),d=h(d,p,c,u,t[g+15],14,-660478335),u=h(u,d,p,c,t[g+4],20,-405537848),c=h(c,u,d,p,t[g+9],5,568446438),p=h(p,c,u,d,t[g+14],9,-1019803690),d=h(d,p,c,u,t[g+3],14,-187363961),u=h(u,d,p,c,t[g+8],20,1163531501),c=h(c,u,d,p,t[g+13],5,-1444681467),p=h(p,c,u,d,t[g+2],9,-51403784),d=h(d,p,c,u,t[g+7],14,1735328473),c=f(c,u=h(u,d,p,c,t[g+12],20,-1926607734),d,p,t[g+5],4,-378558),p=f(p,c,u,d,t[g+8],11,-2022574463),d=f(d,p,c,u,t[g+11],16,1839030562),u=f(u,d,p,c,t[g+14],23,-35309556),c=f(c,u,d,p,t[g+1],4,-1530992060),p=f(p,c,u,d,t[g+4],11,1272893353),d=f(d,p,c,u,t[g+7],16,-155497632),u=f(u,d,p,c,t[g+10],23,-1094730640),c=f(c,u,d,p,t[g+13],4,681279174),p=f(p,c,u,d,t[g+0],11,-358537222),d=f(d,p,c,u,t[g+3],16,-722521979),u=f(u,d,p,c,t[g+6],23,76029189),c=f(c,u,d,p,t[g+9],4,-640364487),p=f(p,c,u,d,t[g+12],11,-421815835),d=f(d,p,c,u,t[g+15],16,530742520),c=v(c,u=f(u,d,p,c,t[g+2],23,-995338651),d,p,t[g+0],6,-198630844),p=v(p,c,u,d,t[g+7],10,1126891415),d=v(d,p,c,u,t[g+14],15,-1416354905),u=v(u,d,p,c,t[g+5],21,-57434055),c=v(c,u,d,p,t[g+12],6,1700485571),p=v(p,c,u,d,t[g+3],10,-1894986606),d=v(d,p,c,u,t[g+10],15,-1051523),u=v(u,d,p,c,t[g+1],21,-2054922799),c=v(c,u,d,p,t[g+8],6,1873313359),p=v(p,c,u,d,t[g+15],10,-30611744),d=v(d,p,c,u,t[g+6],15,-1560198380),u=v(u,d,p,c,t[g+13],21,1309151649),c=v(c,u,d,p,t[g+4],6,-145523070),p=v(p,c,u,d,t[g+11],10,-1120210379),d=v(d,p,c,u,t[g+2],15,718787259),u=v(u,d,p,c,t[g+9],21,-343485551),c=c+b>>>0,u=u+y>>>0,d=d+w>>>0,p=p+_>>>0}return r.endian([c,u,d,p])})._ff=function(e,n,t,r,a,s,i){var o=e+(n&t|~n&r)+(a>>>0)+i;return(o<<s|o>>>32-s)+n},o._gg=function(e,n,t,r,a,s,i){var o=e+(n&r|t&~r)+(a>>>0)+i;return(o<<s|o>>>32-s)+n},o._hh=function(e,n,t,r,a,s,i){var o=e+(n^t^r)+(a>>>0)+i;return(o<<s|o>>>32-s)+n},o._ii=function(e,n,t,r,a,s,i){var o=e+(t^(n|~r))+(a>>>0)+i;return(o<<s|o>>>32-s)+n},o._blocksize=16,o._digestsize=16,e.exports=function(e,n){if(null==e)throw new Error("Illegal argument "+e);var t=r.wordsToBytes(o(e,n));return n&&n.asBytes?t:n&&n.asString?i.bytesToString(t):r.bytesToHex(t)}}}]);