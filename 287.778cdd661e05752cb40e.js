(globalThis.webpackChunktajmr=globalThis.webpackChunktajmr||[]).push([[287],{5624:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>D});var i=s(7294),r=s(5697),n=s.n(r),a=s(1512),l=s(1657),o=s(6402),u=s(5615),c=s(8593),m=s(9859),p=s(6739),h=s(8769);function d(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const v=0,f=1,g=2,T=3;class w extends i.Component{constructor(...e){super(...e),d(this,"state",{limit:v}),d(this,"showMore",(()=>{this.setState((({limit:e})=>({limit:e+1})))})),d(this,"getIntervals",(()=>{const e=this.props.intervals.filter(p.ew).filter(k);switch(this.state.limit){case T:return e;case g:return e.filter(C);default:return e.filter(j)}})),d(this,"onDelete",(e=>{const{dispatch:t}=this.props;t((0,c.attemptRemove)(e))})),d(this,"onUpdate",(e=>{const{dispatch:t}=this.props;t((0,c.attemptUpdate)(e))}))}static getDerivedStateFromProps(e,t){return!t.limit&&e.userSettings.displayPreviousIntervals?{limit:f}:null}render(){const{userSettings:e}=this.props,{limit:t}=this.state,s=this.getIntervals(),r=t<T;return e.displayPreviousIntervals?i.createElement("div",{className:"previous-intervals"},i.createElement("h3",{className:"previous-intervals__title"},"Tidigare"),i.createElement(h.S,null,i.createElement(i.Fragment,null,i.createElement(o.Z,{intervals:s,onDelete:this.onDelete,onUpdate:this.onUpdate}),r&&i.createElement(u.Z,{className:"previous-intervals__show-more",onClick:this.showMore,theme:"primary"},"Visa fler")))):null}}w.propTypes={dispatch:n().func.isRequired,intervals:l.FC.isRequired,userSettings:l.AQ.isRequired};const b=Date.now(),S=(0,m.b7)(b);function k({endTime:e}){return e<S}const E=(0,m.Qk)(b);function j({startTime:e}){return e>E.startTime&&e<E.endTime}const y=(0,m.jw)(b);function C({startTime:e}){return e>y.startTime&&e<y.endTime}const D=(0,a.$j)((function({intervals:{items:e},userSettings:t}){return{userSettings:t,intervals:e}}))(w)}}]);