(globalThis.webpackChunktajmr=globalThis.webpackChunktajmr||[]).push([[514],{1287:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>I});var i=s(7294),r=s(5697),n=s.n(r),a=s(7703),l=s(8391),o=s(1657),u=s(6402),c=s(5615),m=s(7160),p=s(9859),h=s(6739),d=s(6504);function v(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const f=0,g=1,T=2,b=3;class w extends i.Component{constructor(...e){super(...e),v(this,"state",{limit:f}),v(this,"showMore",(()=>{this.setState((({limit:e})=>({limit:e+1})))})),v(this,"getIntervals",(()=>{const e=this.props.intervals.filter(h.ew).filter(E);switch(this.state.limit){case b:return e;case T:return e.filter(D);default:return e.filter(y)}})),v(this,"onDelete",(e=>{const{dispatch:t}=this.props;t((0,m.attemptRemove)(e))})),v(this,"onUpdate",(e=>{const{dispatch:t}=this.props;t((0,m.attemptUpdate)(e))}))}static getDerivedStateFromProps(e,t){return!t.limit&&e.userSettings.displayPreviousIntervals?{limit:g}:null}render(){const{userSettings:e}=this.props,{limit:t}=this.state,s=this.getIntervals(),r=t<b;return e.displayPreviousIntervals?i.createElement("div",{className:"previous-intervals"},i.createElement("h3",{className:"previous-intervals__title"},"Tidigare"),i.createElement(l.SV,{fallback:d.l},i.createElement(i.Fragment,null,i.createElement(u.Z,{intervals:s,onDelete:this.onDelete,onUpdate:this.onUpdate}),r&&i.createElement(c.Z,{className:"previous-intervals__show-more",onClick:this.showMore,theme:"primary"},"Visa fler")))):null}}w.propTypes={dispatch:n().func.isRequired,intervals:o.FC.isRequired,userSettings:o.AQ.isRequired};const S=Date.now(),k=(0,p.b7)(S);function E({endTime:e}){return e<k}const j=(0,p.Qk)(S);function y({startTime:e}){return e>j.startTime&&e<j.endTime}const C=(0,p.jw)(S);function D({startTime:e}){return e>C.startTime&&e<C.endTime}const I=(0,a.$j)((function({intervals:{items:e},userSettings:t}){return{userSettings:t,intervals:e}}))(w)}}]);